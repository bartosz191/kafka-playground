version: 1
task_definition:
  services:
    elasticsearch:
      essential: false
      init_process_enabled: true
      cpu_shares: 1024
      mem_reservation: 1024M
    kibana:
      essential: true
      init_process_enabled: true
      cpu_shares: 1024
      mem_reservation: 512M
      dependsOn:
        containerName: elasticsearch
        condition: START
    logstash-producer:
      essential: false
      cpu_shares: 1
      mem_reservation: 1024M
      init_process_enabled: true
      dependsOn:
        containerName: elasticsearch
        condition: START
